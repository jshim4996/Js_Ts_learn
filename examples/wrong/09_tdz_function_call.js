/**
 * TDZ 퀴즈 #5 - 함수 호출 시점과 TDZ + 스코프 체인
 *
 * 문제:
 * let a = f();
 * const b = 2;
 *
 * function f() {
 *   return b;
 * }
 *
 * 오답: b is not defined (함수 내부에 b가 없어서)
 * 정답: ReferenceError: Cannot access 'b' before initialization
 */

// ============================================
// 원본 코드
// ============================================

// let a = f();
// const b = 2;

// function f() {
//   return b;
// }

// ============================================
// 실행 순서
// ============================================

// 1. 호이스팅 단계
//    - function f 호이스팅 (함수 전체)
//    - let a, const b 호이스팅 (TDZ 시작)

// 2. 실행 단계
//    - let a = f() 실행 → f() 호출
//    - f() 내부에서 return b
//    - f() 스코프에 b 없음 → 스코프 체인 따라 상위(전역)에서 찾음
//    - 전역의 b는 TDZ → 에러!

// ============================================
// 스코프 체인
// ============================================

// 변수를 찾을 때:
// 1. 현재 스코프에서 찾음
// 2. 없으면 상위 스코프에서 찾음
// 3. 없으면 그 상위 스코프에서 찾음
// 4. 전역까지 올라감
// 5. 전역에도 없으면 ReferenceError: not defined

// f() 함수 내부에 b가 없으면 상위 스코프(전역)에서 찾음
// 전역에 const b가 있지만, f() 호출 시점에 아직 TDZ → 에러

// ============================================
// 에러 메시지 차이
// ============================================

// "b is not defined" → 선언 자체가 안 됨
// "Cannot access 'b' before initialization" → 선언은 됐지만 TDZ

// ============================================
// 실행해보기: node examples/wrong/09_tdz_function_call.js
// ============================================
