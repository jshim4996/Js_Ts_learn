/**
 * TDZ 퀴즈 #3 - return 이후 코드와 호이스팅
 *
 * 문제:
 * function foo() {
 *   return bar;
 *   let bar = 1;
 * }
 * console.log(foo());
 *
 * 정답: ReferenceError: Cannot access 'bar' before initialization
 */

// ============================================
// 원본 코드
// ============================================

function foo() {
  return bar;
  let bar = 1;
}

// console.log(foo());  // ReferenceError!

// ============================================
// 왜 에러가 나는가?
// ============================================

// 1. 호이스팅 단계 (실행 전)
//    let bar; ← 선언됨, TDZ 시작
//
// 2. 실행 단계
//    return bar;  ← TDZ 에러! (여기서 끝)
//    let bar = 1; ← 도달 불가 (dead code)

// ============================================
// 핵심: 호이스팅 vs 실행
// ============================================

// - 호이스팅: 코드 "평가" 단계 (실행 전)
// - return: 코드 "실행" 단계

// return 이후 코드는 실행 안 되지만,
// 호이스팅은 이미 끝난 상태라서 TDZ 에러가 남

// ============================================
// var와의 차이
// ============================================

function bar() {
  return baz;
  var baz = 1;
}

console.log(bar());  // undefined

// var는 TDZ가 없으므로 undefined 반환

// ============================================
// 실행해보기: node examples/correct/07_tdz_return_hoisting.js
// ============================================
